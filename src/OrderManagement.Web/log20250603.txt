2025-06-03 14:54:51.346 +03:00 [INF] Registered 3 endpoints in 2,780 milliseconds.
2025-06-03 14:54:54.404 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA journal_mode = 'wal';
2025-06-03 14:54:54.559 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Customers" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Customers" PRIMARY KEY,
    "Name" TEXT NOT NULL,
    "Segment" INTEGER NOT NULL,
    "RegisteredAt" TEXT NOT NULL
);
2025-06-03 14:54:54.565 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Orders" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_Orders" PRIMARY KEY AUTOINCREMENT,
    "CustomerId" TEXT NOT NULL,
    "Total" TEXT NOT NULL,
    "DiscountApplied" TEXT NOT NULL,
    "Status" INTEGER NOT NULL,
    "CreatedAt" TEXT NOT NULL,
    "ConfirmedAt" TEXT NULL,
    "ShippedAt" TEXT NULL,
    "DeliveredAt" TEXT NULL,
    "UpdatedAt" TEXT NULL
);
2025-06-03 14:54:54.568 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Orders_CreatedAt" ON "Orders" ("CreatedAt");
2025-06-03 14:54:54.570 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Orders_DeliveredAt" ON "Orders" ("DeliveredAt");
2025-06-03 14:54:54.575 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Orders_Status" ON "Orders" ("Status");
2025-06-03 14:54:54.919 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Orders" AS "o")
2025-06-03 14:54:55.238 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 8), @p2='?' (DbType = DateTimeOffset), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Customers" ("Id", "Name", "RegisteredAt", "Segment")
VALUES (@p0, @p1, @p2, @p3);
2025-06-03 14:54:55.249 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 17), @p2='?' (DbType = DateTimeOffset), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Customers" ("Id", "Name", "RegisteredAt", "Segment")
VALUES (@p0, @p1, @p2, @p3);
2025-06-03 14:54:55.254 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 10), @p2='?' (DbType = DateTimeOffset), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Customers" ("Id", "Name", "RegisteredAt", "Segment")
VALUES (@p0, @p1, @p2, @p3);
2025-06-03 14:54:55.260 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 16), @p2='?' (DbType = DateTimeOffset), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Customers" ("Id", "Name", "RegisteredAt", "Segment")
VALUES (@p0, @p1, @p2, @p3);
2025-06-03 14:54:55.272 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 16), @p2='?' (DbType = DateTimeOffset), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Customers" ("Id", "Name", "RegisteredAt", "Segment")
VALUES (@p0, @p1, @p2, @p3);
2025-06-03 14:54:55.319 +03:00 [INF] Handling Customer Segment updated event for "00000000-0000-0000-0000-000000000000"
2025-06-03 14:54:55.890 +03:00 [WRN] Sending email to to@test.com from from@test.com with subject Customer Segment Updated using OrderManagement.Infrastructure.Email.MimeKitEmailSender.
2025-06-03 14:55:00.059 +03:00 [ERR] An error occurred seeding the DB. No connection could be made because the target machine actively refused it.
System.Net.Sockets.SocketException (10061): No connection could be made because the target machine actively refused it.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.TaskToAsyncResult.End(IAsyncResult asyncResult)
   at MailKit.Net.SocketUtils.SocketConnectState.OnEndConnect(IAsyncResult ar)
--- End of stack trace from previous location ---
   at MailKit.Net.SocketUtils.ConnectAsync(String host, Int32 port, IPEndPoint localEndPoint, CancellationToken cancellationToken)
   at MailKit.Net.SocketUtils.ConnectAsync(String host, Int32 port, IPEndPoint localEndPoint, Int32 timeout, CancellationToken cancellationToken)
   at MailKit.MailService.ConnectNetworkAsync(String host, Int32 port, CancellationToken cancellationToken)
   at MailKit.Net.Smtp.SmtpClient.ConnectAsync(String host, Int32 port, SecureSocketOptions options, CancellationToken cancellationToken)
   at OrderManagement.Infrastructure.Email.MimeKitEmailSender.SendEmailAsync(String to, String from, String subject, String body) in D:\MyProjects\OrderManagement\src\OrderManagement.Infrastructure\Email\MimeKitEmailSender.cs:line 15
   at OrderManagement.Core.CustomerAggregate.Handler.CustomerSegmentUpdatedHandler.Handle(CustomerSegmentUpdatedEvent notification, CancellationToken cancellationToken) in D:\MyProjects\OrderManagement\src\OrderManagement.Core\CustomerAggregate\Handler\CustomerSegmentUpdatedHandler.cs:line 12
   at MediatR.NotificationPublishers.ForeachAwaitPublisher.Publish(IEnumerable`1 handlerExecutors, INotification notification, CancellationToken cancellationToken)
   at Ardalis.SharedKernel.MediatRDomainEventDispatcher.DispatchAndClearEvents(IEnumerable`1 entitiesWithEvents)
   at OrderManagement.Infrastructure.Data.AppDbContext.SaveChangesAsync(CancellationToken cancellationToken) in D:\MyProjects\OrderManagement\src\OrderManagement.Infrastructure\Data\AppDbContext.cs:line 32
   at OrderManagement.Infrastructure.Data.SeedData.PopulateCustomerTestDataAsync(AppDbContext dbContext) in D:\MyProjects\OrderManagement\src\OrderManagement.Infrastructure\Data\SeedData.cs:line 31
   at OrderManagement.Infrastructure.Data.SeedData.InitializeAsync(AppDbContext dbContext) in D:\MyProjects\OrderManagement\src\OrderManagement.Infrastructure\Data\SeedData.cs:line 19
   at OrderManagement.Web.Configurations.MiddlewareConfig.SeedDatabase(WebApplication app) in D:\MyProjects\OrderManagement\src\OrderManagement.Web\Configurations\MiddlewareConfig.cs:line 40
2025-06-03 14:55:00.330 +03:00 [INF] Now listening on: https://localhost:57679
2025-06-03 14:55:00.342 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-06-03 14:55:00.448 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-03 14:55:00.451 +03:00 [INF] Hosting environment: Development
2025-06-03 14:55:00.459 +03:00 [INF] Content root path: D:\MyProjects\OrderManagement\src\OrderManagement.Web
2025-06-03 14:56:46.828 +03:00 [INF] Registered 3 endpoints in 244 milliseconds.
2025-06-03 14:56:47.997 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-06-03 14:56:48.530 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Orders" AS "o")
2025-06-03 14:56:49.201 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 16), @p2='?' (DbType = DateTimeOffset), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Customers" ("Id", "Name", "RegisteredAt", "Segment")
VALUES (@p0, @p1, @p2, @p3);
2025-06-03 14:56:49.207 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 10), @p2='?' (DbType = DateTimeOffset), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Customers" ("Id", "Name", "RegisteredAt", "Segment")
VALUES (@p0, @p1, @p2, @p3);
2025-06-03 14:56:49.212 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 17), @p2='?' (DbType = DateTimeOffset), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Customers" ("Id", "Name", "RegisteredAt", "Segment")
VALUES (@p0, @p1, @p2, @p3);
2025-06-03 14:56:49.217 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 16), @p2='?' (DbType = DateTimeOffset), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Customers" ("Id", "Name", "RegisteredAt", "Segment")
VALUES (@p0, @p1, @p2, @p3);
2025-06-03 14:56:49.220 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 8), @p2='?' (DbType = DateTimeOffset), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Customers" ("Id", "Name", "RegisteredAt", "Segment")
VALUES (@p0, @p1, @p2, @p3);
2025-06-03 14:56:49.275 +03:00 [INF] Handling Customer Segment updated event for "00000000-0000-0000-0000-000000000000"
2025-06-03 14:56:49.278 +03:00 [INF] Not actually sending an email to to@test.com from from@test.com with subject Customer Segment Updated
2025-06-03 14:56:49.281 +03:00 [INF] Handling Customer Segment updated event for "00000000-0000-0000-0000-000000000000"
2025-06-03 14:56:49.283 +03:00 [INF] Not actually sending an email to to@test.com from from@test.com with subject Customer Segment Updated
2025-06-03 14:56:49.289 +03:00 [INF] Handling Customer Segment updated event for "00000000-0000-0000-0000-000000000000"
2025-06-03 14:56:49.293 +03:00 [INF] Not actually sending an email to to@test.com from from@test.com with subject Customer Segment Updated
2025-06-03 14:56:49.298 +03:00 [INF] Handling Customer Segment updated event for "00000000-0000-0000-0000-000000000000"
2025-06-03 14:56:49.301 +03:00 [INF] Not actually sending an email to to@test.com from from@test.com with subject Customer Segment Updated
2025-06-03 14:56:49.407 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Name", "c"."RegisteredAt", "c"."Segment"
FROM "Customers" AS "c"
2025-06-03 14:56:49.510 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTimeOffset), @p1='?' (DbType = DateTimeOffset), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTimeOffset), @p4='?' (DbType = Decimal), @p5='?' (DbType = DateTimeOffset), @p6='?' (DbType = Int32), @p7='?' (DbType = Decimal), @p8='?' (DbType = DateTimeOffset)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Orders" ("ConfirmedAt", "CreatedAt", "CustomerId", "DeliveredAt", "DiscountApplied", "ShippedAt", "Status", "Total", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
2025-06-03 14:56:49.535 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTimeOffset), @p1='?' (DbType = DateTimeOffset), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTimeOffset), @p4='?' (DbType = Decimal), @p5='?' (DbType = DateTimeOffset), @p6='?' (DbType = Int32), @p7='?' (DbType = Decimal), @p8='?' (DbType = DateTimeOffset)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Orders" ("ConfirmedAt", "CreatedAt", "CustomerId", "DeliveredAt", "DiscountApplied", "ShippedAt", "Status", "Total", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
2025-06-03 14:56:49.541 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTimeOffset), @p1='?' (DbType = DateTimeOffset), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTimeOffset), @p4='?' (DbType = Decimal), @p5='?' (DbType = DateTimeOffset), @p6='?' (DbType = Int32), @p7='?' (DbType = Decimal), @p8='?' (DbType = DateTimeOffset)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Orders" ("ConfirmedAt", "CreatedAt", "CustomerId", "DeliveredAt", "DiscountApplied", "ShippedAt", "Status", "Total", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
2025-06-03 14:56:49.557 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTimeOffset), @p1='?' (DbType = DateTimeOffset), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTimeOffset), @p4='?' (DbType = Decimal), @p5='?' (DbType = DateTimeOffset), @p6='?' (DbType = Int32), @p7='?' (DbType = Decimal), @p8='?' (DbType = DateTimeOffset)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Orders" ("ConfirmedAt", "CreatedAt", "CustomerId", "DeliveredAt", "DiscountApplied", "ShippedAt", "Status", "Total", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
2025-06-03 14:56:49.563 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTimeOffset), @p1='?' (DbType = DateTimeOffset), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTimeOffset), @p4='?' (DbType = Decimal), @p5='?' (DbType = DateTimeOffset), @p6='?' (DbType = Int32), @p7='?' (DbType = Decimal), @p8='?' (DbType = DateTimeOffset)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Orders" ("ConfirmedAt", "CreatedAt", "CustomerId", "DeliveredAt", "DiscountApplied", "ShippedAt", "Status", "Total", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
2025-06-03 14:56:49.570 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTimeOffset), @p1='?' (DbType = DateTimeOffset), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTimeOffset), @p4='?' (DbType = Decimal), @p5='?' (DbType = DateTimeOffset), @p6='?' (DbType = Int32), @p7='?' (DbType = Decimal), @p8='?' (DbType = DateTimeOffset)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Orders" ("ConfirmedAt", "CreatedAt", "CustomerId", "DeliveredAt", "DiscountApplied", "ShippedAt", "Status", "Total", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
2025-06-03 14:56:49.587 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTimeOffset), @p1='?' (DbType = DateTimeOffset), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTimeOffset), @p4='?' (DbType = Decimal), @p5='?' (DbType = DateTimeOffset), @p6='?' (DbType = Int32), @p7='?' (DbType = Decimal), @p8='?' (DbType = DateTimeOffset)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Orders" ("ConfirmedAt", "CreatedAt", "CustomerId", "DeliveredAt", "DiscountApplied", "ShippedAt", "Status", "Total", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
2025-06-03 14:56:49.594 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTimeOffset), @p1='?' (DbType = DateTimeOffset), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTimeOffset), @p4='?' (DbType = Decimal), @p5='?' (DbType = DateTimeOffset), @p6='?' (DbType = Int32), @p7='?' (DbType = Decimal), @p8='?' (DbType = DateTimeOffset)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Orders" ("ConfirmedAt", "CreatedAt", "CustomerId", "DeliveredAt", "DiscountApplied", "ShippedAt", "Status", "Total", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
2025-06-03 14:56:49.601 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTimeOffset), @p1='?' (DbType = DateTimeOffset), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTimeOffset), @p4='?' (DbType = Decimal), @p5='?' (DbType = DateTimeOffset), @p6='?' (DbType = Int32), @p7='?' (DbType = Decimal), @p8='?' (DbType = DateTimeOffset)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Orders" ("ConfirmedAt", "CreatedAt", "CustomerId", "DeliveredAt", "DiscountApplied", "ShippedAt", "Status", "Total", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
2025-06-03 14:56:49.616 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTimeOffset), @p1='?' (DbType = DateTimeOffset), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTimeOffset), @p4='?' (DbType = Decimal), @p5='?' (DbType = DateTimeOffset), @p6='?' (DbType = Int32), @p7='?' (DbType = Decimal), @p8='?' (DbType = DateTimeOffset)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Orders" ("ConfirmedAt", "CreatedAt", "CustomerId", "DeliveredAt", "DiscountApplied", "ShippedAt", "Status", "Total", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
2025-06-03 14:56:49.811 +03:00 [INF] Now listening on: https://localhost:57679
2025-06-03 14:56:49.819 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-06-03 14:56:49.897 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-03 14:56:49.899 +03:00 [INF] Hosting environment: Development
2025-06-03 14:56:49.904 +03:00 [INF] Content root path: D:\MyProjects\OrderManagement\src\OrderManagement.Web
2025-06-03 14:57:16.772 +03:00 [INF] Request starting HTTP/2 GET https://localhost:57679/swagger/ - null null
2025-06-03 14:57:17.066 +03:00 [INF] Request finished HTTP/2 GET https://localhost:57679/swagger/ - 302 0 null 297.3883ms
2025-06-03 14:57:17.086 +03:00 [INF] Request starting HTTP/2 GET https://localhost:57679/swagger/index.html - null null
2025-06-03 14:57:17.154 +03:00 [INF] Request finished HTTP/2 GET https://localhost:57679/swagger/index.html - 200 null text/html; charset=utf-8 68.2068ms
2025-06-03 14:57:17.266 +03:00 [INF] Request starting HTTP/2 GET https://localhost:57679/swagger/swagger-ui.css - null null
2025-06-03 14:57:17.266 +03:00 [INF] Request starting HTTP/2 GET https://localhost:57679/swagger/swagger-ui-bundle.js - null null
2025-06-03 14:57:17.266 +03:00 [INF] Request starting HTTP/2 GET https://localhost:57679/swagger/index.css - null null
2025-06-03 14:57:17.266 +03:00 [INF] Request starting HTTP/2 GET https://localhost:57679/swagger/swagger-ui-standalone-preset.js - null null
2025-06-03 14:57:17.336 +03:00 [INF] Sending file. Request path: '/index.css'. Physical path: 'N/A'
2025-06-03 14:57:17.368 +03:00 [INF] Request finished HTTP/2 GET https://localhost:57679/swagger/index.css - 200 218 text/css 101.8797ms
2025-06-03 14:57:17.339 +03:00 [INF] Request starting HTTP/2 GET https://localhost:57679/_framework/aspnetcore-browser-refresh.js - null null
2025-06-03 14:57:17.392 +03:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2025-06-03 14:57:17.396 +03:00 [INF] Request finished HTTP/2 GET https://localhost:57679/_framework/aspnetcore-browser-refresh.js - 200 16523 application/javascript; charset=utf-8 56.4671ms
2025-06-03 14:57:17.401 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2025-06-03 14:57:17.418 +03:00 [INF] Request finished HTTP/2 GET https://localhost:57679/swagger/swagger-ui.css - 200 154988 text/css 152.6917ms
2025-06-03 14:57:17.404 +03:00 [INF] Request finished HTTP/2 GET https://localhost:57679/swagger/swagger-ui-standalone-preset.js - 200 229224 text/javascript 137.9654ms
2025-06-03 14:57:17.463 +03:00 [INF] Request starting HTTP/2 GET https://localhost:57679/_vs/browserLink - null null
2025-06-03 14:57:17.497 +03:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2025-06-03 14:57:17.502 +03:00 [INF] Request finished HTTP/2 GET https://localhost:57679/swagger/swagger-ui-bundle.js - 200 1468327 text/javascript 235.6089ms
2025-06-03 14:57:17.601 +03:00 [INF] Request finished HTTP/2 GET https://localhost:57679/_vs/browserLink - 200 null text/javascript; charset=UTF-8 138.8525ms
2025-06-03 14:57:18.446 +03:00 [INF] Request starting HTTP/2 GET https://localhost:57679/swagger/v1/swagger.json - null null
2025-06-03 14:57:18.853 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.NotSupportedException: Request DTOs without any publicly accessible properties are not supported. Offending Endpoint: [OrderManagement.Web.Orders.OrderAnalytics] Offending DTO type: [OrderManagement.Web.Orders.OrderAnalyticsRequest]
   at FastEndpoints.Swagger.OperationProcessor.Process(OperationProcessorContext ctx)
   at NSwag.Generation.AspNetCore.AspNetCoreOpenApiDocumentGenerator.RunOperationProcessors(OpenApiDocument document, ApiDescription apiDescription, Type controllerType, MethodInfo methodInfo, OpenApiOperationDescription operationDescription, List`1 allOperations, OpenApiDocumentGenerator generator, OpenApiSchemaResolver schemaResolver)
   at NSwag.Generation.AspNetCore.AspNetCoreOpenApiDocumentGenerator.AddOperationDescriptionsToDocument(OpenApiDocument document, Type controllerType, List`1 operations, OpenApiDocumentGenerator swaggerGenerator, OpenApiSchemaResolver schemaResolver)
   at NSwag.Generation.AspNetCore.AspNetCoreOpenApiDocumentGenerator.GenerateApiGroups(OpenApiDocumentGenerator generator, OpenApiDocument document, IGrouping`2[] apiGroups, OpenApiSchemaResolver schemaResolver)
   at NSwag.Generation.AspNetCore.AspNetCoreOpenApiDocumentGenerator.GenerateAsync(ApiDescriptionGroupCollection apiDescriptionGroups)
   at NSwag.AspNetCore.Middlewares.OpenApiDocumentMiddleware.GenerateDocumentAsync(HttpContext context)
   at NSwag.AspNetCore.Middlewares.OpenApiDocumentMiddleware.GetDocumentAsync(HttpContext context)
   at NSwag.AspNetCore.Middlewares.OpenApiDocumentMiddleware.Invoke(HttpContext context)
   at Ardalis.ListStartupServices.ShowAllServicesMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-06-03 14:57:18.888 +03:00 [INF] Request finished HTTP/2 GET https://localhost:57679/swagger/v1/swagger.json - 500 null text/plain; charset=utf-8 442.7603ms
2025-06-03 15:02:59.525 +03:00 [INF] Registered 3 endpoints in 2,032 milliseconds.
2025-06-03 15:03:02.048 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-06-03 15:03:02.530 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Orders" AS "o")
2025-06-03 15:03:02.789 +03:00 [INF] Now listening on: https://localhost:57679
2025-06-03 15:03:02.802 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-06-03 15:03:02.916 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-03 15:03:02.927 +03:00 [INF] Hosting environment: Development
2025-06-03 15:03:02.928 +03:00 [INF] Content root path: D:\MyProjects\OrderManagement\src\OrderManagement.Web
2025-06-03 15:03:23.378 +03:00 [INF] Request starting HTTP/2 GET https://localhost:57679/swagger/index.html - null null
2025-06-03 15:03:23.549 +03:00 [INF] Request finished HTTP/2 GET https://localhost:57679/swagger/index.html - 200 null text/html; charset=utf-8 174.624ms
2025-06-03 15:03:23.629 +03:00 [INF] Request starting HTTP/2 GET https://localhost:57679/_framework/aspnetcore-browser-refresh.js - null null
2025-06-03 15:03:23.670 +03:00 [INF] Request finished HTTP/2 GET https://localhost:57679/_framework/aspnetcore-browser-refresh.js - 200 16523 application/javascript; charset=utf-8 41.7054ms
2025-06-03 15:03:23.712 +03:00 [INF] Request starting HTTP/2 GET https://localhost:57679/_vs/browserLink - null null
2025-06-03 15:03:23.790 +03:00 [INF] Request finished HTTP/2 GET https://localhost:57679/_vs/browserLink - 200 null text/javascript; charset=UTF-8 78.2554ms
2025-06-03 15:03:24.332 +03:00 [INF] Request starting HTTP/2 GET https://localhost:57679/swagger/v1/swagger.json - null null
2025-06-03 15:03:24.401 +03:00 [INF] Request starting HTTP/2 GET https://localhost:57679/swagger/favicon-32x32.png - null null
2025-06-03 15:03:24.447 +03:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2025-06-03 15:03:24.454 +03:00 [INF] Request finished HTTP/2 GET https://localhost:57679/swagger/favicon-32x32.png - 200 628 image/png 52.7588ms
2025-06-03 15:03:24.616 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.NotSupportedException: Request DTOs without any publicly accessible properties are not supported. Offending Endpoint: [OrderManagement.Web.Orders.OrderAnalytics] Offending DTO type: [OrderManagement.Web.Orders.OrderAnalyticsRequest]
   at FastEndpoints.Swagger.OperationProcessor.Process(OperationProcessorContext ctx)
   at NSwag.Generation.AspNetCore.AspNetCoreOpenApiDocumentGenerator.RunOperationProcessors(OpenApiDocument document, ApiDescription apiDescription, Type controllerType, MethodInfo methodInfo, OpenApiOperationDescription operationDescription, List`1 allOperations, OpenApiDocumentGenerator generator, OpenApiSchemaResolver schemaResolver)
   at NSwag.Generation.AspNetCore.AspNetCoreOpenApiDocumentGenerator.AddOperationDescriptionsToDocument(OpenApiDocument document, Type controllerType, List`1 operations, OpenApiDocumentGenerator swaggerGenerator, OpenApiSchemaResolver schemaResolver)
   at NSwag.Generation.AspNetCore.AspNetCoreOpenApiDocumentGenerator.GenerateApiGroups(OpenApiDocumentGenerator generator, OpenApiDocument document, IGrouping`2[] apiGroups, OpenApiSchemaResolver schemaResolver)
   at NSwag.Generation.AspNetCore.AspNetCoreOpenApiDocumentGenerator.GenerateAsync(ApiDescriptionGroupCollection apiDescriptionGroups)
   at NSwag.AspNetCore.Middlewares.OpenApiDocumentMiddleware.GenerateDocumentAsync(HttpContext context)
   at NSwag.AspNetCore.Middlewares.OpenApiDocumentMiddleware.GetDocumentAsync(HttpContext context)
   at NSwag.AspNetCore.Middlewares.OpenApiDocumentMiddleware.Invoke(HttpContext context)
   at Ardalis.ListStartupServices.ShowAllServicesMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-06-03 15:03:24.667 +03:00 [INF] Request finished HTTP/2 GET https://localhost:57679/swagger/v1/swagger.json - 500 null text/plain; charset=utf-8 334.9089ms
2025-06-03 15:32:25.113 +03:00 [INF] Registered 3 endpoints in 2,527 milliseconds.
2025-06-03 15:32:27.456 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-06-03 15:32:27.811 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Orders" AS "o")
2025-06-03 15:32:28.009 +03:00 [INF] Now listening on: https://localhost:57679
2025-06-03 15:32:28.035 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-06-03 15:32:29.069 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-03 15:32:29.073 +03:00 [INF] Hosting environment: Development
2025-06-03 15:32:29.075 +03:00 [INF] Content root path: D:\MyProjects\OrderManagement\src\OrderManagement.Web
2025-06-03 15:32:38.284 +03:00 [INF] Request starting HTTP/2 GET https://localhost:57679/swagger/index.html - null null
2025-06-03 15:32:38.473 +03:00 [INF] Request finished HTTP/2 GET https://localhost:57679/swagger/index.html - 200 null text/html; charset=utf-8 185.6165ms
2025-06-03 15:32:38.552 +03:00 [INF] Request starting HTTP/2 GET https://localhost:57679/_framework/aspnetcore-browser-refresh.js - null null
2025-06-03 15:32:38.574 +03:00 [INF] Request finished HTTP/2 GET https://localhost:57679/_framework/aspnetcore-browser-refresh.js - 200 16523 application/javascript; charset=utf-8 21.626ms
2025-06-03 15:32:38.605 +03:00 [INF] Request starting HTTP/2 GET https://localhost:57679/_vs/browserLink - null null
2025-06-03 15:32:38.735 +03:00 [INF] Request finished HTTP/2 GET https://localhost:57679/_vs/browserLink - 200 null text/javascript; charset=UTF-8 129.298ms
2025-06-03 15:32:39.349 +03:00 [INF] Request starting HTTP/2 GET https://localhost:57679/swagger/v1/swagger.json - null null
2025-06-03 15:32:39.581 +03:00 [INF] Request finished HTTP/2 GET https://localhost:57679/swagger/v1/swagger.json - 200 null application/json; charset=utf-8 231.6327ms
2025-06-03 15:33:32.523 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:57679/Orders/Analytics - null null
2025-06-03 15:33:32.534 +03:00 [INF] Executing endpoint 'HTTP: GET /Orders/Analytics'
2025-06-03 15:33:32.871 +03:00 [INF] Executed endpoint 'HTTP: GET /Orders/Analytics'
2025-06-03 15:33:32.874 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.MissingMethodException: Method not found: 'System.Threading.Tasks.Task`1<System.__Canon> MediatR.RequestHandlerDelegate`1.Invoke()'.
   at Ardalis.SharedKernel.LoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Ardalis.SharedKernel.LoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Wrappers.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_1.<Handle>b__2(CancellationToken t)
   at MediatR.Wrappers.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, IServiceProvider serviceProvider, CancellationToken cancellationToken)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at OrderManagement.Web.Orders.OrderAnalytics.HandleAsync(OrderAnalyticsRequest request, CancellationToken cancellationToken) in D:\MyProjects\OrderManagement\src\OrderManagement.Web\Orders\OrderAnalytics.cs:line 21
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at NSwag.AspNetCore.Middlewares.SwaggerUiIndexMiddleware.Invoke(HttpContext context)
   at NSwag.AspNetCore.Middlewares.RedirectToIndexMiddleware.Invoke(HttpContext context)
   at NSwag.AspNetCore.Middlewares.OpenApiDocumentMiddleware.Invoke(HttpContext context)
   at Ardalis.ListStartupServices.ShowAllServicesMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-06-03 15:33:32.955 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:57679/Orders/Analytics - 500 null text/plain; charset=utf-8 431.2292ms
2025-06-03 16:15:49.201 +03:00 [INF] Registered 3 endpoints in 2,136 milliseconds.
2025-06-03 16:15:51.944 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-06-03 16:15:52.446 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Orders" AS "o")
2025-06-03 16:15:52.716 +03:00 [INF] Now listening on: https://localhost:57679
2025-06-03 16:15:52.730 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-06-03 16:15:52.836 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-03 16:15:52.839 +03:00 [INF] Hosting environment: Development
2025-06-03 16:15:52.840 +03:00 [INF] Content root path: D:\MyProjects\OrderManagement\src\OrderManagement.Web
2025-06-03 16:16:14.070 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:57679/Orders/Analytics - null null
2025-06-03 16:16:14.123 +03:00 [INF] Executing endpoint 'HTTP: GET /Orders/Analytics'
2025-06-03 16:16:14.185 +03:00 [INF] Handling GetOrderAnalyticsQuery
2025-06-03 16:16:14.187 +03:00 [INF] Property startDate : null
2025-06-03 16:16:14.192 +03:00 [INF] Property endDate : null
2025-06-03 16:16:14.556 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Orders" AS "o"
2025-06-03 16:16:14.604 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT ef_avg("o"."Total")
FROM "Orders" AS "o"
2025-06-03 16:16:14.654 +03:00 [INF] Executed endpoint 'HTTP: GET /Orders/Analytics'
2025-06-03 16:16:14.657 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<Order>()
    .Where(o => o.Status == Delivered && o.DeliveredAt != null)
    .Average(o => __Functions_0
        .DateDiffHour(
            startDate: o.CreatedAt, 
            endDate: o.DeliveredAt.Value))' could not be translated. Additional information: Translation of method 'Microsoft.EntityFrameworkCore.SqlServerDbFunctionsExtensions.DateDiffHour' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AverageAsync[TSource](IQueryable`1 source, Expression`1 selector, CancellationToken cancellationToken)
   at OrderManagement.Infrastructure.Data.Queries.OrderAnalyticsService.GetAnalyticsAsync(Nullable`1 startDate, Nullable`1 endDate, CancellationToken cancellationToken) in D:\MyProjects\OrderManagement\src\OrderManagement.Infrastructure\Data\Queries\OrderAnalyticsService.cs:line 21
   at OrderManagement.UseCases.Orders.Analytics.GetOrderAnalyticsHandler.Handle(GetOrderAnalyticsQuery request, CancellationToken cancellationToken) in D:\MyProjects\OrderManagement\src\OrderManagement.UseCases\Orders\Analytics\GetOrderAnalyticsHandler.cs:line 9
   at Ardalis.SharedKernel.LoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at OrderManagement.Web.Orders.OrderAnalytics.HandleAsync(OrderAnalyticsRequest request, CancellationToken cancellationToken) in D:\MyProjects\OrderManagement\src\OrderManagement.Web\Orders\OrderAnalytics.cs:line 21
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at NSwag.AspNetCore.Middlewares.SwaggerUiIndexMiddleware.Invoke(HttpContext context)
   at NSwag.AspNetCore.Middlewares.RedirectToIndexMiddleware.Invoke(HttpContext context)
   at NSwag.AspNetCore.Middlewares.OpenApiDocumentMiddleware.Invoke(HttpContext context)
   at Ardalis.ListStartupServices.ShowAllServicesMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-06-03 16:16:14.729 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:57679/Orders/Analytics - 500 null text/plain; charset=utf-8 661.7383ms
2025-06-03 16:27:57.895 +03:00 [INF] Registered 3 endpoints in 2,041 milliseconds.
2025-06-03 16:28:00.065 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-06-03 16:28:00.464 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Orders" AS "o")
2025-06-03 16:28:00.663 +03:00 [INF] Now listening on: https://localhost:57679
2025-06-03 16:28:00.730 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-06-03 16:28:00.935 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-03 16:28:00.949 +03:00 [INF] Hosting environment: Development
2025-06-03 16:28:00.951 +03:00 [INF] Content root path: D:\MyProjects\OrderManagement\src\OrderManagement.Web
2025-06-03 16:28:17.174 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:57679/Orders/Analytics - null null
2025-06-03 16:28:17.210 +03:00 [INF] Executing endpoint 'HTTP: GET /Orders/Analytics'
2025-06-03 16:28:17.272 +03:00 [INF] Handling GetOrderAnalyticsQuery
2025-06-03 16:28:17.275 +03:00 [INF] Property startDate : null
2025-06-03 16:28:17.277 +03:00 [INF] Property endDate : null
2025-06-03 16:28:17.336 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Orders" AS "o"
2025-06-03 16:28:17.387 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT ef_avg("o"."Total")
FROM "Orders" AS "o"
2025-06-03 16:28:17.480 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ConfirmedAt", "o"."CreatedAt", "o"."CustomerId", "o"."DeliveredAt", "o"."DiscountApplied", "o"."ShippedAt", "o"."Status", "o"."Total", "o"."UpdatedAt"
FROM "Orders" AS "o"
WHERE "o"."Status" = 3 AND "o"."DeliveredAt" IS NOT NULL
2025-06-03 16:28:17.485 +03:00 [INF] Handled GetOrderAnalyticsQuery with Ardalis.Result.Result`1[OrderManagement.Core.OrderAggregate.OrderAnalyticsDTO] in 205 ms
2025-06-03 16:28:17.505 +03:00 [INF] Executed endpoint 'HTTP: GET /Orders/Analytics'
2025-06-03 16:28:17.516 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:57679/Orders/Analytics - 200 null application/json; charset=utf-8 340.4765ms
2025-06-03 16:28:40.000 +03:00 [INF] Request starting HTTP/1.1 PATCH https://localhost:57679/Orders/2/UpdateStatus - application/json 29
2025-06-03 16:28:40.007 +03:00 [INF] Executing endpoint 'HTTP: PATCH /Orders/{OrderId:int}/UpdateStatus'
2025-06-03 16:28:40.039 +03:00 [INF] Handling UpdateOrderStatusCommand
2025-06-03 16:28:40.043 +03:00 [INF] Property orderId : 2
2025-06-03 16:28:40.046 +03:00 [INF] Property statusValue : Confirmed
2025-06-03 16:28:40.160 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ConfirmedAt", "o"."CreatedAt", "o"."CustomerId", "o"."DeliveredAt", "o"."DiscountApplied", "o"."ShippedAt", "o"."Status", "o"."Total", "o"."UpdatedAt"
FROM "Orders" AS "o"
WHERE "o"."Id" = @__p_0
LIMIT 1
2025-06-03 16:28:40.350 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTimeOffset), @p1='?' (DbType = DateTimeOffset), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTimeOffset), @p4='?' (DbType = Decimal), @p5='?' (DbType = DateTimeOffset), @p6='?' (DbType = Int32), @p7='?' (DbType = Decimal), @p8='?' (DbType = DateTimeOffset)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Orders" SET "ConfirmedAt" = @p0, "CreatedAt" = @p1, "CustomerId" = @p2, "DeliveredAt" = @p3, "DiscountApplied" = @p4, "ShippedAt" = @p5, "Status" = @p6, "Total" = @p7, "UpdatedAt" = @p8
WHERE "Id" = @p9
RETURNING 1;
2025-06-03 16:28:40.386 +03:00 [INF] Handling Order status updated event for 2
2025-06-03 16:28:40.389 +03:00 [INF] Not actually sending an email to to@test.com from from@test.com with subject Order Status Updated
2025-06-03 16:28:40.391 +03:00 [INF] Handled UpdateOrderStatusCommand with Ardalis.Result.Result`1[OrderManagement.UseCases.Orders.OrderDTO] in 343 ms
2025-06-03 16:28:40.398 +03:00 [INF] Executed endpoint 'HTTP: PATCH /Orders/{OrderId:int}/UpdateStatus'
2025-06-03 16:28:40.401 +03:00 [INF] Request finished HTTP/1.1 PATCH https://localhost:57679/Orders/2/UpdateStatus - 200 null application/json; charset=utf-8 401.2415ms
2025-06-03 16:29:15.448 +03:00 [INF] Request starting HTTP/1.1 PATCH https://localhost:57679/Orders/2/ApplyDiscount - null 0
2025-06-03 16:29:15.454 +03:00 [INF] Executing endpoint 'HTTP: PATCH /Orders/{OrderId:int}/ApplyDiscount'
2025-06-03 16:29:15.457 +03:00 [INF] Executed endpoint 'HTTP: PATCH /Orders/{OrderId:int}/ApplyDiscount'
2025-06-03 16:29:15.458 +03:00 [INF] Request finished HTTP/1.1 PATCH https://localhost:57679/Orders/2/ApplyDiscount - 415 null null 9.8527ms
2025-06-03 16:31:04.556 +03:00 [INF] Request starting HTTP/1.1 PATCH https://localhost:57679/Orders/2/ApplyDiscount - null 0
2025-06-03 16:31:04.561 +03:00 [INF] Executing endpoint 'HTTP: PATCH /Orders/{OrderId:int}/ApplyDiscount'
2025-06-03 16:31:04.566 +03:00 [INF] Executed endpoint 'HTTP: PATCH /Orders/{OrderId:int}/ApplyDiscount'
2025-06-03 16:31:04.568 +03:00 [INF] Request finished HTTP/1.1 PATCH https://localhost:57679/Orders/2/ApplyDiscount - 415 null null 11.7301ms
2025-06-03 16:32:40.145 +03:00 [INF] Request starting HTTP/1.1 PATCH https://localhost:57679/Orders/2/ApplyDiscount - application/json 20
2025-06-03 16:32:40.152 +03:00 [INF] Executing endpoint 'HTTP: PATCH /Orders/{OrderId:int}/ApplyDiscount'
2025-06-03 16:32:40.158 +03:00 [INF] Handling ApplyDiscountCommand
2025-06-03 16:32:40.160 +03:00 [INF] Property orderId : 2
2025-06-03 16:32:40.178 +03:00 [INF] Executed endpoint 'HTTP: PATCH /Orders/{OrderId:int}/ApplyDiscount'
2025-06-03 16:32:40.181 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentException: The key value at position 0 of the call to 'DbSet<Order>.Find' was of type 'ApplyDiscountCommand', which does not match the property type of 'int'.
   at Microsoft.EntityFrameworkCore.Internal.EntityFinder`1.FindTracked(Object[] keyValues)
   at Microsoft.EntityFrameworkCore.Internal.EntityFinder`1.FindAsync(Object[] keyValues, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.FindAsync(Object[] keyValues, CancellationToken cancellationToken)
   at Ardalis.Specification.EntityFrameworkCore.RepositoryBase`1.GetByIdAsync[TId](TId id, CancellationToken cancellationToken)
   at OrderManagement.UseCases.Orders.ApplyDiscount.ApplyDiscountHandler.Handle(ApplyDiscountCommand request, CancellationToken cancellationToken) in D:\MyProjects\OrderManagement\src\OrderManagement.UseCases\Orders\ApplyDiscount\ApplyDiscountHandler.cs:line 11
   at Ardalis.SharedKernel.LoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at OrderManagement.Web.Orders.ApplyDiscount.HandleAsync(ApplyDiscountRequest request, CancellationToken cancellationToken) in D:\MyProjects\OrderManagement\src\OrderManagement.Web\Orders\ApplyDiscount.cs:line 26
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at NSwag.AspNetCore.Middlewares.SwaggerUiIndexMiddleware.Invoke(HttpContext context)
   at NSwag.AspNetCore.Middlewares.RedirectToIndexMiddleware.Invoke(HttpContext context)
   at NSwag.AspNetCore.Middlewares.OpenApiDocumentMiddleware.Invoke(HttpContext context)
   at Ardalis.ListStartupServices.ShowAllServicesMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-06-03 16:32:40.245 +03:00 [INF] Request finished HTTP/1.1 PATCH https://localhost:57679/Orders/2/ApplyDiscount - 500 null text/plain; charset=utf-8 99.4763ms
2025-06-03 16:35:14.177 +03:00 [INF] Registered 3 endpoints in 2,332 milliseconds.
2025-06-03 16:35:16.409 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-06-03 16:35:16.791 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Orders" AS "o")
2025-06-03 16:35:17.079 +03:00 [INF] Now listening on: https://localhost:57679
2025-06-03 16:35:17.096 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-06-03 16:35:17.208 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-03 16:35:17.213 +03:00 [INF] Hosting environment: Development
2025-06-03 16:35:17.215 +03:00 [INF] Content root path: D:\MyProjects\OrderManagement\src\OrderManagement.Web
2025-06-03 16:35:46.558 +03:00 [INF] Registered 3 endpoints in 268 milliseconds.
2025-06-03 16:35:47.542 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA journal_mode = 'wal';
2025-06-03 16:35:47.715 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Customers" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Customers" PRIMARY KEY,
    "Name" TEXT NOT NULL,
    "Segment" INTEGER NOT NULL,
    "RegisteredAt" TEXT NOT NULL
);
2025-06-03 16:35:47.720 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Orders" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_Orders" PRIMARY KEY AUTOINCREMENT,
    "CustomerId" TEXT NOT NULL,
    "Total" TEXT NOT NULL,
    "DiscountApplied" TEXT NOT NULL,
    "Status" INTEGER NOT NULL,
    "CreatedAt" TEXT NOT NULL,
    "ConfirmedAt" TEXT NULL,
    "ShippedAt" TEXT NULL,
    "DeliveredAt" TEXT NULL,
    "UpdatedAt" TEXT NULL
);
2025-06-03 16:35:47.723 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Orders_CreatedAt" ON "Orders" ("CreatedAt");
2025-06-03 16:35:47.726 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Orders_DeliveredAt" ON "Orders" ("DeliveredAt");
2025-06-03 16:35:47.729 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Orders_Status" ON "Orders" ("Status");
2025-06-03 16:35:48.140 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Orders" AS "o")
2025-06-03 16:35:48.636 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 10), @p2='?' (DbType = DateTimeOffset), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Customers" ("Id", "Name", "RegisteredAt", "Segment")
VALUES (@p0, @p1, @p2, @p3);
2025-06-03 16:35:48.644 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 17), @p2='?' (DbType = DateTimeOffset), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Customers" ("Id", "Name", "RegisteredAt", "Segment")
VALUES (@p0, @p1, @p2, @p3);
2025-06-03 16:35:48.649 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 16), @p2='?' (DbType = DateTimeOffset), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Customers" ("Id", "Name", "RegisteredAt", "Segment")
VALUES (@p0, @p1, @p2, @p3);
2025-06-03 16:35:48.652 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 8), @p2='?' (DbType = DateTimeOffset), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Customers" ("Id", "Name", "RegisteredAt", "Segment")
VALUES (@p0, @p1, @p2, @p3);
2025-06-03 16:35:48.657 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 16), @p2='?' (DbType = DateTimeOffset), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Customers" ("Id", "Name", "RegisteredAt", "Segment")
VALUES (@p0, @p1, @p2, @p3);
2025-06-03 16:35:48.712 +03:00 [INF] Handling Customer Segment updated event for "00000000-0000-0000-0000-000000000000"
2025-06-03 16:35:48.715 +03:00 [INF] Not actually sending an email to to@test.com from from@test.com with subject Customer Segment Updated
2025-06-03 16:35:48.717 +03:00 [INF] Handling Customer Segment updated event for "00000000-0000-0000-0000-000000000000"
2025-06-03 16:35:48.719 +03:00 [INF] Not actually sending an email to to@test.com from from@test.com with subject Customer Segment Updated
2025-06-03 16:35:48.722 +03:00 [INF] Handling Customer Segment updated event for "00000000-0000-0000-0000-000000000000"
2025-06-03 16:35:48.724 +03:00 [INF] Not actually sending an email to to@test.com from from@test.com with subject Customer Segment Updated
2025-06-03 16:35:48.728 +03:00 [INF] Handling Customer Segment updated event for "00000000-0000-0000-0000-000000000000"
2025-06-03 16:35:48.729 +03:00 [INF] Not actually sending an email to to@test.com from from@test.com with subject Customer Segment Updated
2025-06-03 16:35:48.818 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Name", "c"."RegisteredAt", "c"."Segment"
FROM "Customers" AS "c"
2025-06-03 16:35:48.939 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTimeOffset), @p1='?' (DbType = DateTimeOffset), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTimeOffset), @p4='?' (DbType = Decimal), @p5='?' (DbType = DateTimeOffset), @p6='?' (DbType = Int32), @p7='?' (DbType = Decimal), @p8='?' (DbType = DateTimeOffset)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Orders" ("ConfirmedAt", "CreatedAt", "CustomerId", "DeliveredAt", "DiscountApplied", "ShippedAt", "Status", "Total", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
2025-06-03 16:35:48.970 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTimeOffset), @p1='?' (DbType = DateTimeOffset), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTimeOffset), @p4='?' (DbType = Decimal), @p5='?' (DbType = DateTimeOffset), @p6='?' (DbType = Int32), @p7='?' (DbType = Decimal), @p8='?' (DbType = DateTimeOffset)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Orders" ("ConfirmedAt", "CreatedAt", "CustomerId", "DeliveredAt", "DiscountApplied", "ShippedAt", "Status", "Total", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
2025-06-03 16:35:48.978 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTimeOffset), @p1='?' (DbType = DateTimeOffset), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTimeOffset), @p4='?' (DbType = Decimal), @p5='?' (DbType = DateTimeOffset), @p6='?' (DbType = Int32), @p7='?' (DbType = Decimal), @p8='?' (DbType = DateTimeOffset)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Orders" ("ConfirmedAt", "CreatedAt", "CustomerId", "DeliveredAt", "DiscountApplied", "ShippedAt", "Status", "Total", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
2025-06-03 16:35:48.983 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTimeOffset), @p1='?' (DbType = DateTimeOffset), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTimeOffset), @p4='?' (DbType = Decimal), @p5='?' (DbType = DateTimeOffset), @p6='?' (DbType = Int32), @p7='?' (DbType = Decimal), @p8='?' (DbType = DateTimeOffset)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Orders" ("ConfirmedAt", "CreatedAt", "CustomerId", "DeliveredAt", "DiscountApplied", "ShippedAt", "Status", "Total", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
2025-06-03 16:35:48.989 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = DateTimeOffset), @p1='?' (DbType = DateTimeOffset), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTimeOffset), @p4='?' (DbType = Decimal), @p5='?' (DbType = DateTimeOffset), @p6='?' (DbType = Int32), @p7='?' (DbType = Decimal), @p8='?' (DbType = DateTimeOffset)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Orders" ("ConfirmedAt", "CreatedAt", "CustomerId", "DeliveredAt", "DiscountApplied", "ShippedAt", "Status", "Total", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
2025-06-03 16:35:49.241 +03:00 [INF] Now listening on: https://localhost:57679
2025-06-03 16:35:49.268 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-06-03 16:35:49.467 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-03 16:35:49.479 +03:00 [INF] Hosting environment: Development
2025-06-03 16:35:49.481 +03:00 [INF] Content root path: D:\MyProjects\OrderManagement\src\OrderManagement.Web
2025-06-03 16:36:03.060 +03:00 [INF] Request starting HTTP/1.1 PATCH https://localhost:57679/Orders/2/ApplyDiscount - application/json 20
2025-06-03 16:36:03.104 +03:00 [INF] Executing endpoint 'HTTP: PATCH /Orders/{OrderId:int}/ApplyDiscount'
2025-06-03 16:36:03.174 +03:00 [INF] Handling ApplyDiscountCommand
2025-06-03 16:36:03.176 +03:00 [INF] Property orderId : 2
2025-06-03 16:36:03.274 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ConfirmedAt", "o"."CreatedAt", "o"."CustomerId", "o"."DeliveredAt", "o"."DiscountApplied", "o"."ShippedAt", "o"."Status", "o"."Total", "o"."UpdatedAt"
FROM "Orders" AS "o"
WHERE "o"."Id" = @__p_0
LIMIT 1
2025-06-03 16:36:03.311 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Name", "c"."RegisteredAt", "c"."Segment"
FROM "Customers" AS "c"
WHERE "c"."Id" = @__p_0
LIMIT 1
2025-06-03 16:36:03.327 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTimeOffset), @p1='?' (DbType = DateTimeOffset), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTimeOffset), @p4='?' (DbType = Decimal), @p5='?' (DbType = DateTimeOffset), @p6='?' (DbType = Int32), @p7='?' (DbType = Decimal), @p8='?' (DbType = DateTimeOffset)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Orders" SET "ConfirmedAt" = @p0, "CreatedAt" = @p1, "CustomerId" = @p2, "DeliveredAt" = @p3, "DiscountApplied" = @p4, "ShippedAt" = @p5, "Status" = @p6, "Total" = @p7, "UpdatedAt" = @p8
WHERE "Id" = @p9
RETURNING 1;
2025-06-03 16:36:03.350 +03:00 [INF] Handled ApplyDiscountCommand with Ardalis.Result.Result`1[OrderManagement.UseCases.Orders.OrderDTO] in 171 ms
2025-06-03 16:36:03.376 +03:00 [INF] Executed endpoint 'HTTP: PATCH /Orders/{OrderId:int}/ApplyDiscount'
2025-06-03 16:36:03.393 +03:00 [INF] Request finished HTTP/1.1 PATCH https://localhost:57679/Orders/2/ApplyDiscount - 200 null application/json; charset=utf-8 331.3043ms
2025-06-03 16:37:26.227 +03:00 [INF] Request starting HTTP/1.1 PATCH https://localhost:57679/Orders/1/UpdateStatus - application/json 29
2025-06-03 16:37:26.235 +03:00 [INF] Executing endpoint 'HTTP: PATCH /Orders/{OrderId:int}/UpdateStatus'
2025-06-03 16:37:26.267 +03:00 [INF] Handling UpdateOrderStatusCommand
2025-06-03 16:37:26.271 +03:00 [INF] Property orderId : 1
2025-06-03 16:37:26.274 +03:00 [INF] Property statusValue : Confirmed
2025-06-03 16:37:26.369 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "o"."Id", "o"."ConfirmedAt", "o"."CreatedAt", "o"."CustomerId", "o"."DeliveredAt", "o"."DiscountApplied", "o"."ShippedAt", "o"."Status", "o"."Total", "o"."UpdatedAt"
FROM "Orders" AS "o"
WHERE "o"."Id" = @__p_0
LIMIT 1
2025-06-03 16:37:26.379 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTimeOffset), @p1='?' (DbType = DateTimeOffset), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTimeOffset), @p4='?' (DbType = Decimal), @p5='?' (DbType = DateTimeOffset), @p6='?' (DbType = Int32), @p7='?' (DbType = Decimal), @p8='?' (DbType = DateTimeOffset)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Orders" SET "ConfirmedAt" = @p0, "CreatedAt" = @p1, "CustomerId" = @p2, "DeliveredAt" = @p3, "DiscountApplied" = @p4, "ShippedAt" = @p5, "Status" = @p6, "Total" = @p7, "UpdatedAt" = @p8
WHERE "Id" = @p9
RETURNING 1;
2025-06-03 16:37:26.393 +03:00 [INF] Handling Order status updated event for 1
2025-06-03 16:37:26.395 +03:00 [INF] Not actually sending an email to to@test.com from from@test.com with subject Order Status Updated
2025-06-03 16:37:26.398 +03:00 [INF] Handled UpdateOrderStatusCommand with Ardalis.Result.Result`1[OrderManagement.UseCases.Orders.OrderDTO] in 122 ms
2025-06-03 16:37:26.404 +03:00 [INF] Executed endpoint 'HTTP: PATCH /Orders/{OrderId:int}/UpdateStatus'
2025-06-03 16:37:26.407 +03:00 [INF] Request finished HTTP/1.1 PATCH https://localhost:57679/Orders/1/UpdateStatus - 200 null application/json; charset=utf-8 179.9395ms
2025-06-03 16:41:40.692 +03:00 [INF] Registered 3 endpoints in 447 milliseconds.
2025-06-03 16:41:41.962 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-06-03 16:41:42.608 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Orders" AS "o")
2025-06-03 16:41:43.082 +03:00 [INF] Now listening on: https://localhost:57679
2025-06-03 16:41:43.567 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-06-03 16:41:43.796 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-03 16:41:44.743 +03:00 [INF] Hosting environment: Development
2025-06-03 16:41:45.137 +03:00 [INF] Content root path: D:\MyProjects\OrderManagement\src\OrderManagement.Web
2025-06-03 17:02:07.405 +03:00 [INF] Registered 3 endpoints in 373 milliseconds.
2025-06-03 17:02:08.875 +03:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-06-03 17:02:09.561 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Orders" AS "o")
2025-06-03 17:02:09.842 +03:00 [INF] Now listening on: https://localhost:57679
2025-06-03 17:02:09.866 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-06-03 17:02:10.006 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-03 17:02:10.013 +03:00 [INF] Hosting environment: Development
2025-06-03 17:02:10.014 +03:00 [INF] Content root path: D:\MyProjects\OrderManagement\src\OrderManagement.Web
2025-06-03 17:10:44.749 +03:00 [INF] Registered 3 endpoints in 305 milliseconds.
2025-06-03 17:10:46.133 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-06-03 17:10:46.671 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Orders" AS "o")
2025-06-03 17:10:47.085 +03:00 [INF] Now listening on: https://localhost:57679
2025-06-03 17:10:47.102 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-06-03 17:10:47.281 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-03 17:10:47.300 +03:00 [INF] Hosting environment: Development
2025-06-03 17:10:47.301 +03:00 [INF] Content root path: D:\MyProjects\OrderManagement\src\OrderManagement.Web
2025-06-03 17:13:01.005 +03:00 [INF] Registered 3 endpoints in 299 milliseconds.
2025-06-03 17:13:02.293 +03:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-06-03 17:13:02.708 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Orders" AS "o")
2025-06-03 17:13:02.891 +03:00 [INF] Now listening on: https://localhost:57679
2025-06-03 17:13:02.899 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-06-03 17:13:02.975 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-03 17:13:02.979 +03:00 [INF] Hosting environment: Development
2025-06-03 17:13:02.983 +03:00 [INF] Content root path: D:\MyProjects\OrderManagement\src\OrderManagement.Web
